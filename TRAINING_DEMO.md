# Playwright 培训演示项目

## 🎯 项目目标

这是一个专门为 Playwright 培训会议设计的演示项目，展示了 Playwright 的各种强大功能和相比 Selenium 的优势。

## 📁 测试文件结构

```
tests/
├── playwright-demo.spec.ts           # 主要功能演示
├── playwright-vs-selenium.spec.ts    # Playwright vs Selenium 优势对比
└── screenshot-video-demo.spec.ts     # 截图和录像功能演示
```

## 🚀 如何运行演示

### 1. 启动应用
```bash
# 启动开发服务器
npm run dev
```

### 2. 运行演示测试

#### 运行所有演示
```bash
npx playwright test --headed
```

#### 运行特定演示
```bash
# 主要功能演示
npx playwright test tests/playwright-demo.spec.ts --headed

# Playwright vs Selenium 优势对比
npx playwright test tests/playwright-vs-selenium.spec.ts --headed

# 截图和录像功能演示
npx playwright test tests/screenshot-video-demo.spec.ts --headed
```

#### 使用 UI 模式（推荐用于培训）
```bash
npx playwright test --ui
```

## 🧪 演示内容概览

### 1. 主要功能演示 (`playwright-demo.spec.ts`)

#### 基础元素定位方法
- **CSS 选择器定位** - 传统 CSS 选择器
- **文本内容定位** - `getByText()` 方法
- **角色定位** - `getByRole()` 方法（Accessibility）
- **标签定位** - `getByLabel()` 方法
- **测试 ID 定位** - `getByTestId()` 方法

#### 高级定位策略
- **相对定位和链式定位** - 从父元素定位子元素
- **过滤和条件定位** - `filter()`, `nth()`, `last()` 方法
- **动态内容定位** - 等待和定位动态内容

#### 表单交互演示
- **下拉选择器交互** - 点击、选择、验证
- **输入框交互** - 输入、清空、逐字符输入
- **复选框交互** - 点击、状态验证
- **按钮交互** - 点击、状态验证

#### 等待策略演示
- **显式等待** - `waitForSelector()`, `waitForLoadState()`
- **隐式等待** - Playwright 自动等待
- **条件等待** - 等待元素满足特定条件

#### 截图和录像功能
- **自动截图** - 失败时自动截图
- **手动截图** - 全页面、特定元素截图
- **元素截图** - 各种组件的截图

#### 多浏览器和视口测试
- **响应式设计测试** - 不同设备尺寸
- **触摸事件模拟** - 移动端触摸操作

#### 网络和性能测试
- **网络请求监控** - 监听请求和响应
- **性能指标收集** - 页面加载性能

#### 错误处理和调试
- **错误截图和追踪** - 自动错误处理
- **控制台日志监控** - 日志和错误收集

#### 高级交互功能
- **拖拽操作** - 模拟拖拽
- **键盘导航** - 键盘快捷键
- **文件上传模拟** - 文件上传功能

### 2. Playwright vs Selenium 优势对比 (`playwright-vs-selenium.spec.ts`)

#### 自动等待 - 无需显式等待
- **Playwright 自动等待** - 元素可交互时自动等待
- **智能网络等待** - 自动等待网络请求完成
- **Selenium 对比** - 需要手动实现等待逻辑

#### 强大的选择器 - 超越 CSS 选择器
- **基于文本内容** - `getByText()` 方法
- **基于角色** - `getByRole()` 方法
- **基于标签** - `getByLabel()` 方法
- **Selenium 对比** - 需要复杂的 XPath 或 CSS

#### 多浏览器支持 - 无需额外驱动
- **自动驱动管理** - 无需下载 WebDriver
- **跨浏览器兼容** - 自动处理浏览器差异
- **Selenium 对比** - 需要手动管理各种驱动

#### 网络拦截和模拟
- **请求拦截** - 监听和修改网络请求
- **网络条件模拟** - 模拟慢速网络
- **Selenium 对比** - 需要外部工具或代理

#### 移动端和触摸事件
- **触摸事件模拟** - 原生触摸支持
- **设备模拟** - 真实设备行为
- **Selenium 对比** - 需要 JavaScript 或 Appium

#### 内置截图和录像
- **自动截图** - 失败时自动截图
- **元素截图** - 特定元素截图
- **Selenium 对比** - 需要额外库或工具

#### 性能监控
- **内置性能指标** - 轻松收集性能数据
- **Selenium 对比** - 需要手动收集或外部工具

#### 并行执行和隔离
- **测试隔离** - 独立的浏览器上下文
- **并行执行** - 真正的并行测试
- **Selenium 对比** - 需要额外配置

#### 错误处理和调试
- **详细错误信息** - 自动错误追踪
- **控制台监控** - 日志和错误收集
- **Selenium 对比** - 错误信息有限

#### 现代化特性支持
- **ES6+ 支持** - 现代 JavaScript 特性
- **TypeScript 支持** - 原生类型支持
- **Selenium 对比** - 需要额外配置

#### 配置和扩展性
- **灵活配置** - 丰富的配置选项
- **Selenium 对比** - 配置相对复杂

### 3. 截图和录像功能演示 (`screenshot-video-demo.spec.ts`)

#### 页面截图功能
- **全页面截图** - 包含滚动区域
- **视口截图** - 当前可见区域
- **特定区域截图** - 各种组件区域

#### 元素截图功能
- **表单元素截图** - 各种表单组件
- **组件截图** - 统计卡片、图表、表格
- **按钮和交互元素截图** - 各种按钮状态

#### 响应式设计截图
- **多设备视口截图** - 从桌面到移动端
- **横屏和竖屏截图** - 不同方向

#### 交互状态截图
- **下拉菜单状态** - 展开、选择状态
- **输入框状态** - 聚焦、输入状态
- **复选框状态** - 选择、多选状态

#### 错误状态截图
- **自动错误截图** - 失败时自动截图
- **手动错误截图** - 手动记录错误状态

#### 性能测试截图
- **页面加载过程** - DOM、网络、组件渲染
- **交互响应** - 操作前后对比

#### 截图配置选项
- **质量设置** - 不同质量级别
- **裁剪区域** - 特定区域截图

## 🎓 培训演示要点

### 1. 开场介绍
- 项目背景和目标
- Playwright 简介
- 与 Selenium 的对比

### 2. 核心功能演示
- 元素定位方法
- 交互操作
- 等待策略

### 3. 高级特性展示
- 截图和录像
- 网络拦截
- 性能监控

### 4. 优势对比
- 自动等待 vs 手动等待
- 强大选择器 vs 传统选择器
- 内置功能 vs 外部依赖

### 5. 实际应用场景
- 响应式设计测试
- 移动端测试
- 性能测试

### 6. 最佳实践
- 选择器策略
- 等待策略
- 错误处理

## 🔧 配置说明

### Playwright 配置
```typescript
use: {
  baseURL: 'http://localhost:3000',
  trace: 'on',        // 启用追踪
  screenshot: 'on',   // 总是截图
  video: 'on',        // 总是录像
}
```

### 浏览器支持
- Chromium
- Firefox
- WebKit
- Mobile Chrome
- Mobile Safari

## 📊 演示结果

### 截图文件
所有截图保存在 `test-results/` 目录：
- 页面截图
- 元素截图
- 响应式截图
- 状态截图
- 错误截图

### 录像文件
所有录像保存在 `test-results/` 目录：
- 测试执行过程
- 交互操作记录
- 错误状态记录

### 追踪文件
所有追踪文件保存在 `test-results/` 目录：
- 详细的执行轨迹
- 网络请求记录
- 性能指标

## 🚨 注意事项

### 1. 演示准备
- 确保开发服务器运行在 `http://localhost:3000`
- 确保所有依赖已安装
- 准备演示用的浏览器

### 2. 演示技巧
- 使用 UI 模式进行交互式演示
- 展示失败测试的自动截图和录像
- 对比不同浏览器的表现

### 3. 常见问题
- 网络请求超时
- 元素加载延迟
- 浏览器兼容性

## 📚 相关资源

- [Playwright 官方文档](https://playwright.dev/)
- [Playwright 最佳实践](https://playwright.dev/docs/best-practices)
- [Playwright vs Selenium 对比](https://playwright.dev/docs/why-playwright)

---

## 🎯 演示目标

通过这个项目，参与者将能够：

1. **理解 Playwright 的核心优势**
2. **掌握各种元素定位方法**
3. **学会使用高级功能特性**
4. **了解与 Selenium 的区别**
5. **掌握最佳实践和配置**

**祝您的 Playwright 培训演示成功！** 🚀
